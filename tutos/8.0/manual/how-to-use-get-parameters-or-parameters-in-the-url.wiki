=How to use GET parameters (parameters in the URL)?

Pages are generated by services.

Funcrions to create services using GET HTTP method take
two mandatory parameters: {{{~path}}} and {{{~get_params}}}.

=== path

This argument is a **list of string**, corresponding to the URL where your page service can be found.

For example, if you want your page to be accessed via this URL:
<<code language='ocaml'|http://website.com/a/b/c>>
You must provide this path:
<<code language='ocaml'|    ~path:["a";"b";"c"]>>

This parameter can also be an **empty list**. It means that the service page will be accessed via this URL:
<<code|http://website.com/>>

=== get_params

Eliom chooses the service automatically w.r.t. this path and parameter
given (among other criteria).
It decodes parameters automatically and checks their types.

Description of parameters (names and types) is done using module
<<a_api project="eliom" subproject="server"|module Eliom_parameter>>.
We recommend to open this module (at the beginning of your file, or locally).

==== Syntax for several parameters

* **No parameter**
<<code language='ocaml'|~get_params:unit>>

* **One parameter**
<<code language='ocaml'|~get_params:(int "id")>>

* **More parameters**
<<code language='ocaml'|~get_params:(string "name" ** int "age" ** bool "graduate")>>

==== Types of parameters

* **Common types**: [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L121|string]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L122|int]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L123|int32]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L124|float]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L125|bool]]
* **Some other types**: [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L126|optional values]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L158|any parameter]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L187|list]], [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom#L211|your own type]].

* See more information on parameters in <<a_manual project="eliom" chapter="server-params"|Eliom manual>> and API documentation of module <<a_api project="eliom" subproject="server"|module Eliom_parameter>>.

==== Get these parameters

On service registration, parameters can be retrieved as a parameter of the function:
<<code language='ocaml'|
Example.register ~service:the_service
    (fun parameters () -> ...)
>>

* **No parameter**
<<code language='ocaml'|    (fun () () -> ...)>>

* **One parameter**
<<code language='ocaml'|    (fun a () -> ...)>>

* **Several parameters**

Operator {{{**}}} is left associative:
<<code language='ocaml'|    (fun (a, (b, (c, d)))) () -> ...)>>

=== Parameters in the path

Sometimes you may want to take parameters from the path,
for example to improve readability of URLs. E.g. {{{http://blah.com/archive/2014/2/}}} or {{{http://blah.com/user/toto/}}}.

To do that, add a parameter of type **suffix** in **get_params**:
<<code|~get_params:(suffix (string "username"))>>


=== Download full code

//Warning: This third party code may be outdated. Please notify the author is something is broken, or do a pull request on github.//

* [[https://github.com/db0company/Ocsigen-Quick-Howto/blob/master/parameters/example.eliom|Read the full code]]
* [[https://github.com/db0company/Ocsigen-Quick-Howto|Download and try this example (parameters)]]

=== Links

* Manual: <<a_manual project="eliom" chapter="server-params"|Parameters>>
* Manual: <<a_manual project="eliom" chapter="server-services"|Services>>
* API: <<a_api project="eliom" subproject="server"|module Eliom_parameter>>
* API: <<a_api project="eliom" subproject="server"|module Eliom_service>>
